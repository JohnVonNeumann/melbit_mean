doctype html
html
  head
    meta(name='viewport', content='width=device-width, initial-scale=1.0')
    title= title
    link(rel='stylesheet', href='/bootstrap/css/superhero.bootstrap.css')
    link(rel='stylesheet', href='/stylesheets/home_style.css')
  body
    .navbar.navbar-default.navbar-fixed-top
      .container
        .navbar-header
          a.navbar-brand(href='/') Melbit

          button.navbar-toggle(type='button', data-toggle='collapse', data-target='#navbar-main')
            span.icon-bar
            span.icon-bar
            span.icon-bar
        #navbar-main.navbar-collapse.collapse
          ul.nav.navbar-nav
            li
              a.ul(href='/users/login') Login
              a.ul(href='/users/signup') Signup
              a.ul(href='/blog/') Blog
              a.ul(href='/location/directory') Directory
              a.ul(href='/about/') About
              a.ul(href='/contact/') Contact
              a.ul(href='/faq/') FAQ


    block content

      #map

        script.
          var map;
          // Create a new blank array for all the listing markers.
          var markers = [];
          function initMap() {
          // Create a styles array to use with the map.
          var styles = [
          {
          "elementType": "geometry",
          "stylers": [
          {
          "color": "#1d2c4d"
          }
          ]
          },
          {
          "elementType": "labels.text.fill",
          "stylers": [
          {
          "color": "#8ec3b9"
          }
          ]
          },
          {
          "elementType": "labels.text.stroke",
          "stylers": [
          {
          "color": "#1a3646"
          }
          ]
          },
          {
          "featureType": "administrative.country",
          "elementType": "geometry.stroke",
          "stylers": [
          {
          "color": "#4b6878"
          }
          ]
          },
          {
          "featureType": "administrative.land_parcel",
          "elementType": "labels.text.fill",
          "stylers": [
          {
          "color": "#64779e"
          }
          ]
          },
          {
          "featureType": "administrative.province",
          "elementType": "geometry.stroke",
          "stylers": [
          {
          "color": "#4b6878"
          }
          ]
          },
          {
          "featureType": "landscape.man_made",
          "elementType": "geometry.stroke",
          "stylers": [
          {
          "color": "#334e87"
          }
          ]
          },
          {
          "featureType": "landscape.natural",
          "elementType": "geometry",
          "stylers": [
          {
          "color": "#023e58"
          }
          ]
          },
          {
          "featureType": "poi",
          "elementType": "geometry",
          "stylers": [
          {
          "color": "#283d6a"
          }
          ]
          },
          {
          "featureType": "poi",
          "elementType": "labels.text",
          "stylers": [
          {
          "visibility": "off"
          }
          ]
          },
          {
          "featureType": "poi",
          "elementType": "labels.text.fill",
          "stylers": [
          {
          "color": "#6f9ba5"
          }
          ]
          },
          {
          "featureType": "poi",
          "elementType": "labels.text.stroke",
          "stylers": [
          {
          "color": "#1d2c4d"
          }
          ]
          },
          {
          "featureType": "poi.business",
          "stylers": [
          {
          "visibility": "off"
          }
          ]
          },
          {
          "featureType": "poi.park",
          "elementType": "geometry.fill",
          "stylers": [
          {
          "color": "#023e58"
          }
          ]
          },
          {
          "featureType": "poi.park",
          "elementType": "labels.text.fill",
          "stylers": [
          {
          "color": "#3C7680"
          }
          ]
          },
          {
          "featureType": "road",
          "elementType": "geometry",
          "stylers": [
          {
          "color": "#304a7d"
          }
          ]
          },
          {
          "featureType": "road",
          "elementType": "labels.icon",
          "stylers": [
          {
          "visibility": "off"
          }
          ]
          },
          {
          "featureType": "road",
          "elementType": "labels.text.fill",
          "stylers": [
          {
          "color": "#98a5be"
          }
          ]
          },
          {
          "featureType": "road",
          "elementType": "labels.text.stroke",
          "stylers": [
          {
          "color": "#1d2c4d"
          }
          ]
          },
          {
          "featureType": "road.highway",
          "elementType": "geometry",
          "stylers": [
          {
          "color": "#2c6675"
          }
          ]
          },
          {
          "featureType": "road.highway",
          "elementType": "geometry.stroke",
          "stylers": [
          {
          "color": "#255763"
          }
          ]
          },
          {
          "featureType": "road.highway",
          "elementType": "labels.text.fill",
          "stylers": [
          {
          "color": "#b0d5ce"
          }
          ]
          },
          {
          "featureType": "road.highway",
          "elementType": "labels.text.stroke",
          "stylers": [
          {
          "color": "#023e58"
          }
          ]
          },
          {
          "featureType": "transit",
          "stylers": [
          {
          "visibility": "off"
          }
          ]
          },
          {
          "featureType": "transit",
          "elementType": "labels.text.fill",
          "stylers": [
          {
          "color": "#98a5be"
          }
          ]
          },
          {
          "featureType": "transit",
          "elementType": "labels.text.stroke",
          "stylers": [
          {
          "color": "#1d2c4d"
          }
          ]
          },
          {
          "featureType": "transit.line",
          "elementType": "geometry.fill",
          "stylers": [
          {
          "color": "#283d6a"
          }
          ]
          },
          {
          "featureType": "transit.station",
          "elementType": "geometry",
          "stylers": [
          {
          "color": "#3a4762"
          }
          ]
          },
          {
          "featureType": "water",
          "elementType": "geometry",
          "stylers": [
          {
          "color": "#0e1626"
          }
          ]
          },
          {
          "featureType": "water",
          "elementType": "labels.text.fill",
          "stylers": [
          {
          "color": "#4e6d70"
          }
          ]
          }
          ];
          // Constructor creates a new map - only center and zoom are required.
          map = new google.maps.Map(document.getElementById('map'), {
          center: {lat: -37.813517, lng: 144.962808},
          zoom: 13,
          styles: styles,
          mapTypeControl: false
          });
          // These are the real estate listings that will be shown to the user.
          // Normally we'd have these in a database instead.
          var locations = [
              {title: 'Altius Coffee Brewers', location: {lat:-37.819805, lng:144.956597}},
              {title: 'Design Industries', location: {lat:-37.810520, lng:144.946315}},
              {title: 'Imbiss25', location: {lat:-37.870698, lng:144.980169}},
              {title: 'Melbourne Bitcoin Technology Centre', location: {lat:-37.822549, lng:144.965126}},      ];
          var largeInfowindow = new google.maps.InfoWindow();
          var bounds = new google.maps.LatLngBounds();
          // The following group uses the location array to create an array of markers on initialize.
          for (var i = 0; i < locations.length; i++) {
          // Get the position from the location array.
          var position = locations[i].location;
          var title = locations[i].title;
          // Create a marker per location, and put into markers array.
          var marker = new google.maps.Marker({
          map: map,
          position: position,
          title: title,
          animation: google.maps.Animation.DROP,
          id: i
          });
          // Push the marker to our array of markers.
          markers.push(marker);
          // Create an onclick event to open an infowindow at each marker.
          marker.addListener('click', function() {
          populateInfoWindow(this, largeInfowindow);
          });
          bounds.extend(markers[i].position);
          }
          // Extend the boundaries of the map for each marker
          map.fitBounds(bounds);
          }
          // This function populates the infowindow when the marker is clicked. We'll only allow
          // one infowindow which will open at the marker that is clicked, and populate based
          // on that markers position.
          function populateInfoWindow(marker, infowindow) {
          // Check to make sure the infowindow is not already opened on this marker.
          if (infowindow.marker != marker) {
          infowindow.marker = marker;
          infowindow.setContent('<div>' + marker.title + '</div>');
          infowindow.open(map, marker);
          // Make sure the marker property is cleared if the infowindow is closed.
          infowindow.addListener('closeclick',function(){
          infowindow.setMarker(null);
          });
          }
          }

        script(async='', defer='', src='https://maps.googleapis.com/maps/api/js?key=AIzaSyDODnasEWZVKvKmIE9aXVTTumJinFZ6I1Y&v=3&callback=initMap')

      footer
        .row
          .col-xs-12
            small &copy; Melbit 2016

      script(src='/javascripts/jquery-3.1.1.js')
      script(src='/bootstrap/js/bootstrap.min.js')
